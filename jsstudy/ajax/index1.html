<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ajax</title>
	<style>
		#box{width:100px;height:100px;background:orange;cursor:pointer;}
	</style>
</head>
<body>
	<div id="box">点我</div>

	<script type="text/javascript">
		var oBox = document.getElementById("box");

		oBox.onclick = function(){
			// ajax("http://localhost/jsstudy/ajax/json.json",function(str){
			// 	//var obj=eval(str);
			// 	// obj.push("12312");
			// 	//console.log(obj);
			// 	eval(str);
			// },"")

			var oScript = document.createElement('script');
			oScript.src = 'http://localhost/jsstudy/ajax/json.json';
			document.body.appendChild(oScript);
			//oScript.src="";
		};

		function call1(obj){
			alert(obj);
		}


		function ajax(url,fnSuc,fnFail){
			var oAjax = null;
			if(window.XMLHttpRequest){
				var oAjax = new XMLHttpRequest();
			}else{
				var oAjax = new ActiveXObject("Microsoft.XMLHTTP");
			}

			oAjax.open("GET",url,true);
			oAjax.send();
			oAjax.onreadystatechange = function(){
				if(oAjax.readyState == 4){
					if(oAjax.status == 200){
						fnSuc(oAjax.responseText);
					}else{
						if(fnFail){
							fnFail();
						}
					}
				}
			};
		};
	</script>
</body>
</html>