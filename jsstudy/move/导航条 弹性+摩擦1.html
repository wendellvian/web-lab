<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{margin:0;padding:0;}
		.box{position:relative;margin:100px auto 0 100px;}
		.box li{float:left;display:inline;width:100px;height:30px;margin:0 1px 0 0;line-height:30px;background:#f4f4f4;text-align:center;}
		.bg{position:absolute;left:0;top:30px;width:100px;height:5px;overflow:hidden;background:orange;}
	</style>
</head>
<body>
	<div id="box" class="box">
		<ul>
			<li>html</li>
			<li>javascript</li>
			<li>css</li>
		</ul>
		<i class="bg"></i>
	</div>

	<!-- // <script src="move_完美运动.js"></script> -->
	<script>
		var oBox = document.getElementById("box");
		var aLi = oBox.getElementsByTagName("li");
		var oBg = oBox.getElementsByTagName("i")[0];
		console.log(oBg);

		for(i=0;i<aLi.length;i++){
			aLi[i].onmouseover = function (){
				startMove(oBg, this.offsetLeft);
			}
		}



		var iSpeed = 0;
		var left = 0;
		function startMove(obj, iTarget){
			clearInterval(obj.timer);
			obj.timer = setInterval(function (){
				iSpeed += (iTarget - left)/5;
				iSpeed *= 0.7;

				// iSpeed = iSpeed>0?Math.ceil(iSpeed):Math.floor(iSpeed);

				

				if(Math.abs(iSpeed)<1 && Math.abs(left-iTarget)<1){
					clearInterval(obj.timer);
					obj.style.left = iTarget + "px";
				}else{
					left+=iSpeed;
					obj.style.left = left + "px";
				}

				
				// obj.style.left = obj.offsetLeft + iSpeed + "px";
			},30);
		}

	</script>
</body>
</html>